<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.map.food.mapper.user.UserMapper.java">
<!-- 회원가입 -->
    <insert id="registId" parameterType="kr.map.food.domain.user.UserDTO">
        INSERT INTO USER (USERIDX, USERID, PASSWORD, USERNAME, USERTEL, DELYN)
        VALUES ( 
            #{userIdx},#{userId},#{userPassword},#{userName},#{userTel},#{userDel}
        )
    </insert>

    <!--  로그인    -->
    <select id="findId" parameterType="kr.map.food.domain.user.UserDTO">
        SELECT USERIDX FROM USER
        WHERE USERID = #{userId}
        AND PASSWORD = #{userPassword}
    </select>

    <!-- 아이디 중복검사 -->
    <select id="countByUserId" parameterType="String" resultType="int">
        SELECT COUNT(*) FROM USER WHERE USERID = #{userId} AND DELYN = 'N'
    </select>

    <!-- idx 조회-->
    <select id="getUserIdx" resultType="String">
        SELECT MAX(USERIDX) FROM USER
    </select>

</mapper>